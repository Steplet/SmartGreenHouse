<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Schedule list</title>
    <script src="https://unpkg.com/htmx.org@1.9.2"></script>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 text-gray-900 font-sans">

<div class="container mx-auto px-4 py-8">
    <h1 class="text-3xl font-bold mb-6 text-center">Schedule Dashboard</h1>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
        {{range .}}
        <div id="card-{{.ID}}" class="bg-white shadow-md rounded-lg p-4">

            <a><h2 class="text-xl font-semibold mb-2">{{.IEEEName}}</h2></a>
            <p><span class="font-semibold">Command:</span> {{.Expose.Property}}</p>
            <p><span class="font-semibold">Command Data:</span> {{.CommandData}}</p>
            <p><span class="font-semibold">Time:</span> <code class="text-sm text-gray-600">{{.TimeMark}}</code></p>
            <button
                    hx-post="/schedule/delete"
                    hx-vals='{"id": {{.ID}}}'
                    hx-target="#card-{{.ID}}"
                    hx-swap="outerHTML"
                    class="mt-2 bg-red-500 hover:bg-red-700 text-white font-bold py-1 px-3 rounded">
                Удалить
            </button>
        </div>
        {{end}}
    </div>
</div>

<div class="mb-6 text-center">
    <a href="/schedule">
        <button class="bg-green-600 hover:bg-green-700 text-white font-semibold py-2 px-4 rounded">
            Создать расписание
        </button>
    </a>
    <button class="px-3 py-1 text-sm bg-green-500 text-white rounded" onclick="history.back();">Назад</button>
</div>
</body>
</html>